!function(){"use strict";let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let i=e=>()=>e;var o=tinymce.util.Tools.resolve("tinymce.Env");let s=e=>e.dispatch("ResizeEditor"),n=e=>t=>t.options.get(e),l=e=>{let t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})},r=n("min_height"),g=n("max_height"),a=n("autoresize_overflow_padding"),d=n("autoresize_bottom_margin"),f=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),u=(e,t)=>{let i=e.getBody();i&&(i.style.overflowY=t?"":"hidden",t||(i.scrollTop=0))},m=(e,t,i,o)=>{var s;let n=parseInt(null!==(s=e.getStyle(t,i,o))&&void 0!==s?s:"",10);return isNaN(n)?0:n},h=e=>(null==e?void 0:e.type.toLowerCase())==="setcontent"&&(!0===e.selection||!0===e.paste),c=(e,t,i,n)=>{var l;let d=e.dom,p=e.getDoc();if(!p)return;if(f(e)){u(e,!0);return}let y=p.documentElement,S=n?n():a(e),v=null!==(l=r(e))&&void 0!==l?l:e.getElement().offsetHeight,C=v,b=m(d,y,"margin-top",!0),w=m(d,y,"margin-bottom",!0),z=y.offsetHeight+b+w+S;z<0&&(z=0);let _=e.getContainer().offsetHeight,E=e.getContentAreaContainer().offsetHeight,H=_-E;z+H>v&&(C=z+H);let R=g(e);if(R&&C>R?(C=R,u(e,!0)):u(e,!1),C!==t.get()){let l=C-t.get();if(d.setStyle(e.getContainer(),"height",C+"px"),t.set(C),s(e),o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){let t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}e.hasFocus()&&h(i)&&e.selection.scrollIntoView(),(o.browser.isSafari()||o.browser.isChromium())&&l<0&&c(e,t,i,n)}},p=(e,t)=>{let s,n,l=()=>d(e);e.on("init",i=>{s=0;let n=a(e),r=e.dom;r.setStyles(e.getDoc().documentElement,{height:"auto"}),o.browser.isEdge()||o.browser.isIE()?r.setStyles(e.getBody(),{paddingLeft:n,paddingRight:n,"min-height":0}):r.setStyles(e.getBody(),{paddingLeft:n,paddingRight:n}),c(e,t,i,l),s+=1}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",o=>{if(1===s)n=e.getContainer().offsetHeight,c(e,t,o,l),s+=1;else if(2===s){let t=n<e.getContainer().offsetHeight;if(t){let t=e.dom,i=e.getDoc();t.setStyles(i.documentElement,{"min-height":0}),t.setStyles(e.getBody(),{"min-height":"inherit"})}l=t?i(0):l,s+=1}else c(e,t,o,l)})},y=(e,t)=>{e.addCommand("mceAutoResize",()=>{c(e,t)})};t.add("autoresize",t=>{if(l(t),t.options.isSet("resize")||t.options.set("resize",!1),!t.inline){let i=e(0);y(t,i),p(t,i)}})}();