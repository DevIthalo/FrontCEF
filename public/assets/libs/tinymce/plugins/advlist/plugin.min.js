!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===r?null:{"list-style-type":r})},r=e=>t=>t.options.get(e),s=r("advlist_number_styles"),l=r("advlist_bullet_styles"),i=e=>null==e,n=e=>!i(e);var o=tinymce.util.Tools.resolve("tinymce.util.Tools");class a{constructor(e,t){this.tag=e,this.value=t}static some(e){return new a(!0,e)}static none(){return a.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?a.some(e(this.value)):a.none()}bind(e){return this.tag?e(this.value):a.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:a.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return n(e)?a.some(e):a.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}a.singletonNone=new a(!1);let u=e=>t=>n(t)&&e.test(t.nodeName),d=u(/^(OL|UL|DL)$/),g=u(/^(TH|TD)$/),h=e=>i(e)||"default"===e?"":e,m=(e,t)=>r=>((e,t)=>{let r=e.selection.getNode();return t({parents:e.dom.getParents(r),element:r}),e.on("NodeChange",t),()=>e.off("NodeChange",t)})(e,s=>((e,s)=>{let l=e.selection.getStart(!0);r.setActive(((e,t,r)=>{for(let t=0,s=e.length;t<s;t++){let s=e[t];if(d(s)&&!/\btox\-/.test(s.className))return a.some(s);if(r(s,t))break}return a.none()})(s,0,g).exists(r=>r.nodeName===t&&e.dom.isChildOf(r,e.getBody()))),r.setEnabled(!((e,t)=>{let r=e.dom.getParent(t,"ol,ul,dl");return null!==r&&!e.dom.isEditable(r)&&e.selection.isEditable()})(e,l)&&e.selection.isEditable())})(e,s.parents)),c=(e,r,s,l,i,n)=>{n.length>1?((e,r,s,l,i,n)=>{e.ui.registry.addSplitButton(r,{tooltip:s,icon:"OL"===i?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(o.map(n,e=>{let t="OL"===i?"num":"bull",r="disc"===e||"decimal"===e?"default":e,s=h(e),l=e.replace(/\-/g," ").replace(/\b\w/g,e=>e.toUpperCase());return{type:"choiceitem",value:s,icon:"list-"+t+"-"+r,text:l}}))},onAction:()=>e.execCommand(l),onItemAction:(r,s)=>{t(e,i,s)},select:t=>{let r=(e=>{let t=e.dom.getParent(e.selection.getNode(),"ol,ul"),r=e.dom.getStyle(t,"listStyleType");return a.from(r)})(e);return r.map(e=>t===e).getOr(!1)},onSetup:m(e,i)})})(e,r,s,l,i,n):((e,r,s,l,i,n)=>{e.ui.registry.addToggleButton(r,{active:!1,tooltip:s,icon:"OL"===i?"ordered-list":"unordered-list",onSetup:m(e,i),onAction:()=>e.queryCommandState(l)||""===n?e.execCommand(l):t(e,i,n)})})(e,r,s,l,i,h(n[0]))};e.add("advlist",e=>{e.hasPlugin("lists")?((e=>{let t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})})(e),c(e,"numlist","Numbered list","InsertOrderedList","OL",s(e)),c(e,"bullist","Bullet list","InsertUnorderedList","UL",l(e)),e.addCommand("ApplyUnorderedListStyle",(r,s)=>{t(e,"UL",s["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",(r,s)=>{t(e,"OL",s["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();